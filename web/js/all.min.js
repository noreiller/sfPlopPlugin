(function(b){var a=function(){var T={},c,O=65,u,Q='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',C={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:true,flat:false},K=function(U,W){var V=k(U);b(W).data("colorpicker").fields.eq(1).val(V.r).end().eq(2).val(V.g).end().eq(3).val(V.b).end()},v=function(U,V){b(V).data("colorpicker").fields.eq(4).val(U.h).end().eq(5).val(U.s).end().eq(6).val(U.b).end()},g=function(U,V){b(V).data("colorpicker").fields.eq(0).val(S(U)).end()},m=function(U,V){b(V).data("colorpicker").selector.css("backgroundColor","#"+S({h:U.h,s:100,b:100}));b(V).data("colorpicker").selectorIndic.css({left:parseInt(150*U.s/100,10),top:parseInt(150*(100-U.b)/100,10)})},H=function(U,V){b(V).data("colorpicker").hue.css("top",parseInt(150-150*U.h/360,10))},h=function(U,V){b(V).data("colorpicker").currentColor.css("backgroundColor","#"+S(U))},F=function(U,V){b(V).data("colorpicker").newColor.css("backgroundColor","#"+S(U))},o=function(U){var W=U.charCode||U.keyCode||-1;if((W>O&&W<=90)||W==32){return false}var V=b(this).parent().parent();if(V.data("colorpicker").livePreview===true){e.apply(this)}},e=function(V){var W=b(this).parent().parent(),U;if(this.parentNode.className.indexOf("_hex")>0){W.data("colorpicker").color=U=n(z(this.value))}else{if(this.parentNode.className.indexOf("_hsb")>0){W.data("colorpicker").color=U=f({h:parseInt(W.data("colorpicker").fields.eq(4).val(),10),s:parseInt(W.data("colorpicker").fields.eq(5).val(),10),b:parseInt(W.data("colorpicker").fields.eq(6).val(),10)})}else{W.data("colorpicker").color=U=j(N({r:parseInt(W.data("colorpicker").fields.eq(1).val(),10),g:parseInt(W.data("colorpicker").fields.eq(2).val(),10),b:parseInt(W.data("colorpicker").fields.eq(3).val(),10)}))}}if(V){K(U,W.get(0));g(U,W.get(0));v(U,W.get(0))}m(U,W.get(0));H(U,W.get(0));F(U,W.get(0));W.data("colorpicker").onChange.apply(W,[U,S(U),k(U)])},p=function(U){var V=b(this).parent().parent();V.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},L=function(){O=this.parentNode.className.indexOf("_hex")>0?70:65;b(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus");b(this).parent().addClass("colorpicker_focus")},J=function(U){var W=b(this).parent().find("input").focus();var V={el:b(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:(this.parentNode.className.indexOf("_hsb")>0?100:255),y:U.pageY,field:W,val:parseInt(W.val(),10),preview:b(this).parent().parent().data("colorpicker").livePreview};b(document).bind("mouseup",V,t);b(document).bind("mousemove",V,M)},M=function(U){U.data.field.val(Math.max(0,Math.min(U.data.max,parseInt(U.data.val+U.pageY-U.data.y,10))));if(U.data.preview){e.apply(U.data.field.get(0),[true])}return false},t=function(U){e.apply(U.data.field.get(0),[true]);U.data.el.removeClass("colorpicker_slider").find("input").focus();b(document).unbind("mouseup",t);b(document).unbind("mousemove",M);return false},x=function(U){var V={cal:b(this).parent(),y:b(this).offset().top};V.preview=V.cal.data("colorpicker").livePreview;b(document).bind("mouseup",V,s);b(document).bind("mousemove",V,l)},l=function(U){e.apply(U.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,(U.pageY-U.data.y))))/150,10)).get(0),[U.data.preview]);return false},s=function(U){K(U.data.cal.data("colorpicker").color,U.data.cal.get(0));g(U.data.cal.data("colorpicker").color,U.data.cal.get(0));b(document).unbind("mouseup",s);b(document).unbind("mousemove",l);return false},y=function(U){var V={cal:b(this).parent(),pos:b(this).offset()};V.preview=V.cal.data("colorpicker").livePreview;b(document).bind("mouseup",V,B);b(document).bind("mousemove",V,r)},r=function(U){e.apply(U.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,(U.pageY-U.data.pos.top))))/150,10)).end().eq(5).val(parseInt(100*(Math.max(0,Math.min(150,(U.pageX-U.data.pos.left))))/150,10)).get(0),[U.data.preview]);return false},B=function(U){K(U.data.cal.data("colorpicker").color,U.data.cal.get(0));g(U.data.cal.data("colorpicker").color,U.data.cal.get(0));b(document).unbind("mouseup",B);b(document).unbind("mousemove",r);return false},w=function(U){b(this).addClass("colorpicker_focus")},R=function(U){b(this).removeClass("colorpicker_focus")},q=function(V){var W=b(this).parent();var U=W.data("colorpicker").color;W.data("colorpicker").origColor=U;h(U,W.get(0));W.data("colorpicker").onSubmit(U,S(U),k(U),W.data("colorpicker").el)},E=function(U){var Y=b("#"+b(this).data("colorpickerId"));Y.data("colorpicker").onBeforeShow.apply(this,[Y.get(0)]);var Z=b(this).offset();var X=A();var W=Z.top+this.offsetHeight;var V=Z.left;if(W+176>X.t+X.h){W-=this.offsetHeight+176}if(V+356>X.l+X.w){V-=356}Y.css({left:V+"px",top:W+"px"});if(Y.data("colorpicker").onShow.apply(this,[Y.get(0)])!=false){Y.show()}b(document).bind("mousedown",{cal:Y},P);return false},P=function(U){if(!I(U.data.cal.get(0),U.target,U.data.cal.get(0))){if(U.data.cal.data("colorpicker").onHide.apply(this,[U.data.cal.get(0)])!=false){U.data.cal.hide()}b(document).unbind("mousedown",P)}},I=function(W,V,U){if(W==V){return true}if(W.contains){return W.contains(V)}if(W.compareDocumentPosition){return !!(W.compareDocumentPosition(V)&16)}var X=V.parentNode;while(X&&X!=U){if(X==W){return true}X=X.parentNode}return false},A=function(){var U=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(U?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(U?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(U?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(U?document.documentElement.clientHeight:document.body.clientHeight)}},f=function(U){return{h:Math.min(360,Math.max(0,U.h)),s:Math.min(100,Math.max(0,U.s)),b:Math.min(100,Math.max(0,U.b))}},N=function(U){return{r:Math.min(255,Math.max(0,U.r)),g:Math.min(255,Math.max(0,U.g)),b:Math.min(255,Math.max(0,U.b))}},z=function(W){var U=6-W.length;if(U>0){var X=[];for(var V=0;V<U;V++){X.push("0")}X.push(W);W=X.join("")}return W},d=function(U){var U=parseInt(((U.indexOf("#")>-1)?U.substring(1):U),16);return{r:U>>16,g:(U&65280)>>8,b:(U&255)}},n=function(U){return j(d(U))},j=function(W){var V={h:0,s:0,b:0};var X=Math.min(W.r,W.g,W.b);var U=Math.max(W.r,W.g,W.b);var Y=U-X;V.b=U;if(U!=0){}V.s=U!=0?255*Y/U:0;if(V.s!=0){if(W.r==U){V.h=(W.g-W.b)/Y}else{if(W.g==U){V.h=2+(W.b-W.r)/Y}else{V.h=4+(W.r-W.g)/Y}}}else{V.h=-1}V.h*=60;if(V.h<0){V.h+=360}V.s*=100/255;V.b*=100/255;return V},k=function(U){var W={};var aa=Math.round(U.h);var Z=Math.round(U.s*255/100);var V=Math.round(U.b*255/100);if(Z==0){W.r=W.g=W.b=V}else{var ab=V;var Y=(255-Z)*V/255;var X=(ab-Y)*(aa%60)/60;if(aa==360){aa=0}if(aa<60){W.r=ab;W.b=Y;W.g=Y+X}else{if(aa<120){W.g=ab;W.b=Y;W.r=ab-X}else{if(aa<180){W.g=ab;W.r=Y;W.b=Y+X}else{if(aa<240){W.b=ab;W.r=Y;W.g=ab-X}else{if(aa<300){W.b=ab;W.g=Y;W.r=Y+X}else{if(aa<360){W.r=ab;W.g=Y;W.b=ab-X}else{W.r=0;W.g=0;W.b=0}}}}}}}return{r:Math.round(W.r),g:Math.round(W.g),b:Math.round(W.b)}},D=function(U){var V=[U.r.toString(16),U.g.toString(16),U.b.toString(16)];b.each(V,function(W,X){if(X.length==1){V[W]="0"+X}});return V.join("")},S=function(U){return D(k(U))},G=function(){var V=b(this).parent();var U=V.data("colorpicker").origColor;V.data("colorpicker").color=U;K(U,V.get(0));g(U,V.get(0));v(U,V.get(0));m(U,V.get(0));H(U,V.get(0));F(U,V.get(0))};return{init:function(U){U=b.extend({},C,U||{});if(typeof U.color=="string"){U.color=n(U.color)}else{if(U.color.r!=undefined&&U.color.g!=undefined&&U.color.b!=undefined){U.color=j(U.color)}else{if(U.color.h!=undefined&&U.color.s!=undefined&&U.color.b!=undefined){U.color=f(U.color)}else{return this}}}return this.each(function(){if(!b(this).data("colorpickerId")){var V=b.extend({},U);V.origColor=U.color;var X="collorpicker_"+parseInt(Math.random()*1000);b(this).data("colorpickerId",X);var W=b(Q).attr("id",X);if(V.flat){W.appendTo(this).show()}else{W.appendTo(document.body)}V.fields=W.find("input").bind("keyup",o).bind("change",e).bind("blur",p).bind("focus",L);W.find("span").bind("mousedown",J).end().find(">div.colorpicker_current_color").bind("click",G);V.selector=W.find("div.colorpicker_color").bind("mousedown",y);V.selectorIndic=V.selector.find("div div");V.el=this;V.hue=W.find("div.colorpicker_hue div");W.find("div.colorpicker_hue").bind("mousedown",x);V.newColor=W.find("div.colorpicker_new_color");V.currentColor=W.find("div.colorpicker_current_color");W.data("colorpicker",V);W.find("div.colorpicker_submit").bind("mouseenter",w).bind("mouseleave",R).bind("click",q);K(V.color,W.get(0));v(V.color,W.get(0));g(V.color,W.get(0));H(V.color,W.get(0));m(V.color,W.get(0));h(V.color,W.get(0));F(V.color,W.get(0));if(V.flat){W.css({position:"relative",display:"block"})}else{b(this).bind(V.eventName,E)}}})},showPicker:function(){return this.each(function(){if(b(this).data("colorpickerId")){E.apply(this)}})},hidePicker:function(){return this.each(function(){if(b(this).data("colorpickerId")){b("#"+b(this).data("colorpickerId")).hide()}})},setColor:function(U){if(typeof U=="string"){U=n(U)}else{if(U.r!=undefined&&U.g!=undefined&&U.b!=undefined){U=j(U)}else{if(U.h!=undefined&&U.s!=undefined&&U.b!=undefined){U=f(U)}else{return this}}}return this.each(function(){if(b(this).data("colorpickerId")){var V=b("#"+b(this).data("colorpickerId"));V.data("colorpicker").color=U;V.data("colorpicker").origColor=U;K(U,V.get(0));v(U,V.get(0));g(U,V.get(0));H(U,V.get(0));m(U,V.get(0));h(U,V.get(0));F(U,V.get(0))}})}}}();b.fn.extend({ColorPicker:a.init,ColorPickerHide:a.hidePicker,ColorPickerShow:a.showPicker,ColorPickerSetColor:a.setColor})})(jQuery);(function(b){b.fn.ajaxSubmit=function(u){if(!this.length){a("ajaxSubmit: skipping submit process - no element selected");return this}if(typeof u=="function"){u={success:u}}var h=this.attr("action");var d=(typeof h==="string")?b.trim(h):"";if(d){d=(d.match(/^([^#]+)/)||[])[1]}d=d||window.location.href||"";u=b.extend(true,{url:d,type:this[0].getAttribute("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},u);var w={};this.trigger("form-pre-serialize",[this,u,w]);if(w.veto){a("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(u.beforeSerialize&&u.beforeSerialize(this,u)===false){a("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var f,r,o=this.formToArray(u.semantic);if(u.data){u.extraData=u.data;for(f in u.data){if(u.data[f] instanceof Array){for(var j in u.data[f]){o.push({name:f,value:u.data[f][j]})}}else{r=u.data[f];r=b.isFunction(r)?r():r;o.push({name:f,value:r})}}}if(u.beforeSubmit&&u.beforeSubmit(o,this,u)===false){a("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[o,this,u,w]);if(w.veto){a("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var c=b.param(o);if(u.type.toUpperCase()=="GET"){u.url+=(u.url.indexOf("?")>=0?"&":"?")+c;u.data=null}else{u.data=c}var t=this,m=[];if(u.resetForm){m.push(function(){t.resetForm()})}if(u.clearForm){m.push(function(){t.clearForm()})}if(!u.dataType&&u.target){var s=u.success||function(){};m.push(function(n){var k=u.replaceTarget?"replaceWith":"html";b(u.target)[k](n).each(s,arguments)})}else{if(u.success){m.push(u.success)}}u.success=function(x,n,y){var v=u.context||u;for(var q=0,k=m.length;q<k;q++){m[q].apply(v,[x,n,y||t,t])}};var g=b("input:file",this).length>0;var e="multipart/form-data";var l=(t.attr("enctype")==e||t.attr("encoding")==e);if(u.iframe!==false&&(g||u.iframe||l)){if(u.closeKeepAlive){b.get(u.closeKeepAlive,p)}else{p()}}else{b.ajax(u)}this.trigger("form-submit-notify",[this,u]);return this;function p(){var v=t[0];if(b(":input[name=submit],:input[id=submit]",v).length){alert('Error: Form elements must not have name or id of "submit".');return}var C=b.extend(true,{},b.ajaxSettings,u);C.context=C.context||C;var F="jqFormIO"+(new Date().getTime()),A="_"+F;var x=b('<iframe id="'+F+'" name="'+F+'" src="'+C.iframeSrc+'" />');var B=x[0];x.css({position:"absolute",top:"-1000px",left:"-1000px"});var y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;x.attr("src",C.iframeSrc)}};var J=C.global;if(J&&!b.active++){b.event.trigger("ajaxStart")}if(J){b.event.trigger("ajaxSend",[y,C])}if(C.beforeSend&&C.beforeSend.call(C.context,y,C)===false){if(C.global){b.active--}return}if(y.aborted){return}var I=0;var z=v.clk;if(z){var G=z.name;if(G&&!z.disabled){C.extraData=C.extraData||{};C.extraData[G]=z.value;if(z.type=="image"){C.extraData[G+".x"]=v.clk_x;C.extraData[G+".y"]=v.clk_y}}}function H(){var P=t.attr("target"),N=t.attr("action");v.setAttribute("target",F);if(v.getAttribute("method")!="POST"){v.setAttribute("method","POST")}if(v.getAttribute("action")!=C.url){v.setAttribute("action",C.url)}if(!C.skipEncodingOverride){t.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(C.timeout){setTimeout(function(){I=true;E()},C.timeout)}var O=[];try{if(C.extraData){for(var Q in C.extraData){O.push(b('<input type="hidden" name="'+Q+'" value="'+C.extraData[Q]+'" />').appendTo(v)[0])}}x.appendTo("body");B.attachEvent?B.attachEvent("onload",E):B.addEventListener("load",E,false);v.submit()}finally{v.setAttribute("action",N);if(P){v.setAttribute("target",P)}else{t.removeAttr("target")}b(O).remove()}}if(C.forceSync){H()}else{setTimeout(H,10)}var L,M,K=50;function E(){M=B.contentWindow?B.contentWindow.document:B.contentDocument?B.contentDocument:B.document;if(!M||M.location.href==C.iframeSrc){return}B.detachEvent?B.detachEvent("onload",E):B.removeEventListener("load",E,false);var O=true;try{if(I){throw"timeout"}var S=C.dataType=="xml"||M.XMLDocument||b.isXMLDoc(M);a("isXml="+S);if(!S&&window.opera&&(M.body==null||M.body.innerHTML=="")){if(--K){a("requeing onLoad callback, DOM not available");setTimeout(E,250);return}}y.responseText=M.body?M.body.innerHTML:M.documentElement?M.documentElement.innerHTML:null;y.responseXML=M.XMLDocument?M.XMLDocument:M;y.getResponseHeader=function(U){var T={"content-type":C.dataType};return T[U]};var R=/(json|script)/.test(C.dataType);if(R||C.textarea){var N=M.getElementsByTagName("textarea")[0];if(N){y.responseText=N.value}else{if(R){var Q=M.getElementsByTagName("pre")[0];var n=M.getElementsByTagName("body")[0];if(Q){y.responseText=Q.textContent}else{if(n){y.responseText=n.innerHTML}}}}}else{if(C.dataType=="xml"&&!y.responseXML&&y.responseText!=null){y.responseXML=D(y.responseText)}}L=k(y,C.dataType,C)}catch(P){a("error caught:",P);O=false;y.error=P;C.error&&C.error.call(C.context,y,"error",P);J&&b.event.trigger("ajaxError",[y,C,P])}if(y.aborted){a("upload aborted");O=false}if(O){C.success&&C.success.call(C.context,L,"success",y);J&&b.event.trigger("ajaxSuccess",[y,C])}J&&b.event.trigger("ajaxComplete",[y,C]);if(J&&!--b.active){b.event.trigger("ajaxStop")}C.complete&&C.complete.call(C.context,y,O?"success":"error");setTimeout(function(){x.removeData("form-plugin-onload");x.remove();y.responseXML=null},100)}var D=b.parseXML||function(n,N){if(window.ActiveXObject){N=new ActiveXObject("Microsoft.XMLDOM");N.async="false";N.loadXML(n)}else{N=(new DOMParser()).parseFromString(n,"text/xml")}return(N&&N.documentElement&&N.documentElement.nodeName!="parsererror")?N:null};var q=b.parseJSON||function(n){return window["eval"]("("+n+")")};var k=function(R,P,O){var N=R.getResponseHeader("content-type")||"",n=P==="xml"||!P&&N.indexOf("xml")>=0,Q=n?R.responseXML:R.responseText;if(n&&Q.documentElement.nodeName==="parsererror"){b.error&&b.error("parsererror")}if(O&&O.dataFilter){Q=O.dataFilter(Q,P)}if(typeof Q==="string"){if(P==="json"||!P&&N.indexOf("json")>=0){Q=q(Q)}else{if(P==="script"||!P&&N.indexOf("javascript")>=0){b.globalEval(Q)}}}return Q}}};b.fn.ajaxForm=function(c){if(this.length===0){var d={s:this.selector,c:this.context};if(!b.isReady&&d.s){a("DOM not ready, queuing ajaxForm");b(function(){b(d.s,d.c).ajaxForm(c)});return this}a("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(f){if(!f.isDefaultPrevented()){f.preventDefault();b(this).ajaxSubmit(c)}}).bind("click.form-plugin",function(k){var j=k.target;var g=b(j);if(!(g.is(":submit,input:image"))){var f=g.closest(":submit");if(f.length==0){return}j=f[0]}var h=this;h.clk=j;if(j.type=="image"){if(k.offsetX!=undefined){h.clk_x=k.offsetX;h.clk_y=k.offsetY}else{if(typeof b.fn.offset=="function"){var l=g.offset();h.clk_x=k.pageX-l.left;h.clk_y=k.pageY-l.top}else{h.clk_x=k.pageX-j.offsetLeft;h.clk_y=k.pageY-j.offsetTop}}}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(q){var p=[];if(this.length===0){return p}var d=this[0];var g=q?d.getElementsByTagName("*"):d.elements;if(!g){return p}var k,h,f,r,e,m,c;for(k=0,m=g.length;k<m;k++){e=g[k];f=e.name;if(!f){continue}if(q&&d.clk&&e.type=="image"){if(!e.disabled&&d.clk==e){p.push({name:f,value:b(e).val()});p.push({name:f+".x",value:d.clk_x},{name:f+".y",value:d.clk_y})}continue}r=b.fieldValue(e,true);if(r&&r.constructor==Array){for(h=0,c=r.length;h<c;h++){p.push({name:f,value:r[h]})}}else{if(r!==null&&typeof r!="undefined"){p.push({name:f,value:r})}}}if(!q&&d.clk){var l=b(d.clk),o=l[0];f=o.name;if(f&&!o.disabled&&o.type=="image"){p.push({name:f,value:l.val()});p.push({name:f+".x",value:d.clk_x},{name:f+".y",value:d.clk_y})}}return p};b.fn.formSerialize=function(c){return b.param(this.formToArray(c))};b.fn.fieldSerialize=function(d){var c=[];this.each(function(){var h=this.name;if(!h){return}var f=b.fieldValue(this,d);if(f&&f.constructor==Array){for(var g=0,e=f.length;g<e;g++){c.push({name:h,value:f[g]})}}else{if(f!==null&&typeof f!="undefined"){c.push({name:this.name,value:f})}}});return b.param(c)};b.fn.fieldValue=function(h){for(var g=[],e=0,c=this.length;e<c;e++){var f=this[e];var d=b.fieldValue(f,h);if(d===null||typeof d=="undefined"||(d.constructor==Array&&!d.length)){continue}d.constructor==Array?b.merge(g,d):g.push(d)}return g};b.fieldValue=function(c,j){var e=c.name,p=c.type,q=c.tagName.toLowerCase();if(j===undefined){j=true}if(j&&(!e||c.disabled||p=="reset"||p=="button"||(p=="checkbox"||p=="radio")&&!c.checked||(p=="submit"||p=="image")&&c.form&&c.form.clk!=c||q=="select"&&c.selectedIndex==-1)){return null}if(q=="select"){var k=c.selectedIndex;if(k<0){return null}var m=[],d=c.options;var g=(p=="select-one");var l=(g?k+1:d.length);for(var f=(g?k:0);f<l;f++){var h=d[f];if(h.selected){var o=h.value;if(!o){o=(h.attributes&&h.attributes.value&&!(h.attributes.value.specified))?h.text:h.value}if(g){return o}m.push(o)}}return m}return b(c).val()};b.fn.clearForm=function(){return this.each(function(){b("input,select,textarea",this).clearFields()})};b.fn.clearFields=b.fn.clearInputs=function(){return this.each(function(){var d=this.type,c=this.tagName.toLowerCase();if(d=="text"||d=="password"||c=="textarea"){this.value=""}else{if(d=="checkbox"||d=="radio"){this.checked=false}else{if(c=="select"){this.selectedIndex=-1}}}})};b.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};b.fn.enable=function(c){if(c===undefined){c=true}return this.each(function(){this.disabled=!c})};b.fn.selected=function(c){if(c===undefined){c=true}return this.each(function(){var d=this.type;if(d=="checkbox"||d=="radio"){this.checked=c}else{if(this.tagName.toLowerCase()=="option"){var e=b(this).parent("select");if(c&&e[0]&&e[0].type=="select-one"){e.find("option").selected(false)}this.selected=c}}})};function a(){if(b.fn.ajaxSubmit.debug){var c="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(c)}else{if(window.opera&&window.opera.postError){window.opera.postError(c)}}}}})(jQuery);(function(b){b.gritter={};b.gritter.options={fade_in_speed:"medium",fade_out_speed:1000,time:6000};b.gritter.add=function(f){try{return a.add(f||{})}catch(d){var c="Gritter Error: "+d;(typeof(console)!="undefined"&&console.error)?console.error(c,f):alert(c)}};b.gritter.remove=function(d,c){a.removeSpecific(d,c||{})};b.gritter.removeAll=function(c){a.stop(c||{})};var a={fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<div class="gritter-close"></div>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none"><div class="gritter-top"></div><div class="gritter-item">[[image]]<div class="[[class_name]]"><span class="gritter-title">[[username]]</span><p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(f){if(!f.title||!f.text){throw'You need to fill out the first 2 params: "title" and "text"'}if(!this._is_setup){this._runSetup()}var j=f.title,n=f.text,e=f.image||"",l=f.sticky||false,m=f.class_name||"",d=f.time||"";this._verifyWrapper();this._item_count++;var g=this._item_count,k=this._tpl_item;b(["before_open","after_open","before_close","after_close"]).each(function(p,q){a["_"+q+"_"+g]=(b.isFunction(f[q]))?f[q]:function(){}});this._custom_timer=0;if(d){this._custom_timer=d}var c=(e!="")?'<img src="'+e+'" class="gritter-image" />':"",h=(e!="")?"gritter-with-image":"gritter-without-image";k=this._str_replace(["[[username]]","[[text]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[j,n,c,this._item_count,h,m],k);this["_before_open_"+g]();b("#gritter-notice-wrapper").append(k);var o=b("#gritter-item-"+this._item_count);o.fadeIn(this.fade_in_speed,function(){a["_after_open_"+g](b(this))});if(!l){this._setFadeTimer(o,g)}b(o).bind("mouseenter mouseleave",function(p){if(p.type=="mouseenter"){if(!l){a._restoreItemIfFading(b(this),g)}}else{if(!l){a._setFadeTimer(b(this),g)}}a._hoverState(b(this),p.type)});return g},_countRemoveWrapper:function(c,d){d.remove();this["_after_close_"+c](d);if(b(".gritter-item-wrapper").length==0){b("#gritter-notice-wrapper").remove()}},_fade:function(f,c,h,d){var h=h||{},g=(typeof(h.fade)!="undefined")?h.fade:true;fade_out_speed=h.speed||this.fade_out_speed;this["_before_close_"+c](f);if(d){f.unbind("mouseenter mouseleave")}if(g){f.animate({opacity:0},fade_out_speed,function(){f.animate({height:0},300,function(){a._countRemoveWrapper(c,f)})})}else{this._countRemoveWrapper(c,f)}},_hoverState:function(f,d){if(d=="mouseenter"){f.addClass("hover");var c=f.find("img");(c.length)?c.before(this._tpl_close):f.find("span").before(this._tpl_close);f.find(".gritter-close").click(function(){var e=f.attr("id").split("-")[2];a.removeSpecific(e,{},f,true)})}else{f.removeClass("hover");f.find(".gritter-close").remove()}},removeSpecific:function(c,g,f,d){if(!f){var f=b("#gritter-item-"+c)}this._fade(f,c,g||{},d)},_restoreItemIfFading:function(d,c){clearTimeout(this["_int_id_"+c]);d.stop().css({opacity:""})},_runSetup:function(){for(opt in b.gritter.options){this[opt]=b.gritter.options[opt]}this._is_setup=1},_setFadeTimer:function(f,d){var c=(this._custom_timer)?this._custom_timer:this.time;this["_int_id_"+d]=setTimeout(function(){a._fade(f,d)},c)},stop:function(e){var c=(b.isFunction(e.before_close))?e.before_close:function(){};var f=(b.isFunction(e.after_close))?e.after_close:function(){};var d=b("#gritter-notice-wrapper");c(d);d.fadeOut(function(){b(this).remove();f()})},_str_replace:function(v,e,o,n){var k=0,h=0,t="",m="",g=0,q=0,l=[].concat(v),c=[].concat(e),u=o,d=c instanceof Array,p=u instanceof Array;u=[].concat(u);if(n){this.window[n]=0}for(k=0,g=u.length;k<g;k++){if(u[k]===""){continue}for(h=0,q=l.length;h<q;h++){t=u[k]+"";m=d?(c[h]!==undefined?c[h]:""):c[0];u[k]=(t).split(l[h]).join(m);if(n&&u[k]!==t){this.window[n]+=(t.length-u[k].length)/l[h].length}}}return p?u:u[0]},_verifyWrapper:function(){if(b("#gritter-notice-wrapper").length==0){b("body").append(this._tpl_wrap)}}}})(jQuery);(function(a){a.prettyLoader={version:"1.0.1"};a.prettyLoader=function(b){b=jQuery.extend({animation_speed:"fast",bind_to_ajax:true,delay:false,loader:"/images/prettyLoader/ajax-loader.gif",offset_top:13,offset_left:10},b);scrollPos=c();imgLoader=new Image();imgLoader.onerror=function(){alert("Preloader image cannot be loaded. Make sure the path is correct in the settings and that the image is reachable.")};imgLoader.src=b.loader;if(b.bind_to_ajax){jQuery(document).ajaxStart(function(){a.prettyLoader.show()}).ajaxStop(function(){a.prettyLoader.hide()})}a.prettyLoader.positionLoader=function(d){d=d?d:window.event;cur_x=(d.clientX)?d.clientX:cur_x;cur_y=(d.clientY)?d.clientY:cur_y;left_pos=cur_x+b.offset_left+scrollPos.scrollLeft;top_pos=cur_y+b.offset_top+scrollPos.scrollTop;a(".prettyLoader").css({top:top_pos,left:left_pos})};a.prettyLoader.show=function(d){if(a(".prettyLoader").size()>0){return}scrollPos=c();a("<div></div>").addClass("prettyLoader").addClass("prettyLoader_"+b.theme).appendTo("body").hide();if(a.browser.msie&&a.browser.version==6){a(".prettyLoader").addClass("pl_ie6")}a("<img />").attr("src",b.loader).appendTo(".prettyLoader");a(".prettyLoader").fadeIn(b.animation_speed);a(document).bind("click",a.prettyLoader.positionLoader);a(document).bind("mousemove",a.prettyLoader.positionLoader);a(window).scroll(function(){scrollPos=c();a(document).triggerHandler("mousemove")});d=(d)?d:b.delay;if(d){setTimeout(function(){a.prettyLoader.hide()},d)}};a.prettyLoader.hide=function(){a(document).unbind("click",a.prettyLoader.positionLoader);a(document).unbind("mousemove",a.prettyLoader.positionLoader);a(window).unbind("scroll");a(".prettyLoader").fadeOut(b.animation_speed,function(){a(this).remove()})};function c(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}}else{if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}}else{if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}}}}return this}})(jQuery);(function(a){a.fn.slides=function(b){b=a.extend({},a.fn.slides.option,b);return this.each(function(){a("."+b.container,a(this)).children().wrapAll('<div class="slides_control"/>');var t=a(this),j=a(".slides_control",t),x=j.children().size(),p=j.children().outerWidth(),l=j.children().outerHeight(),d=b.start-1,k=b.effect.indexOf(",")<0?b.effect:b.effect.replace(" ","").split(",")[0],r=b.effect.indexOf(",")<0?k:b.effect.replace(" ","").split(",")[1],n=0,m=0,c=0,o=0,s,g,h,v,u;if(x<2){return}if(d<0){d=0}if(d>x){d=x-1}if(b.start){o=d}if(b.randomize){j.randomize()}a("."+b.container,t).css({overflow:"hidden",position:"relative"});j.css({position:"relative",width:(p*3),height:l,left:-p});j.children().css({position:"absolute",top:0,left:p,zIndex:0,display:"none"});if(b.autoHeight){j.animate({height:j.children(":eq("+d+")").outerHeight()},b.autoHeightSpeed)}if(b.preload&&j.children()[0].tagName=="IMG"){t.css({background:"url("+b.preloadImage+") no-repeat 50% 50%"});var w=a("img:eq("+d+")",t).attr("src")+"?"+(new Date()).getTime();a("img:eq("+d+")",t).attr("src",w).load(function(){a(this).fadeIn(b.fadeSpeed,function(){a(this).css({zIndex:5});t.css({background:""});s=true})})}else{j.children(":eq("+d+")").fadeIn(b.fadeSpeed,function(){s=true})}if(b.bigTarget){j.children().css({cursor:"pointer"});j.children().click(function(){e("next",k);return false})}if(b.hoverPause&&b.play){j.children().bind("mouseover",function(){q()});j.children().bind("mouseleave",function(){f()})}if(b.generateNextPrev){a("."+b.container,t).after('<a href="#" class="'+b.prev+'">Prev</a>');a("."+b.prev,t).after('<a href="#" class="'+b.next+'">Next</a>')}a("."+b.next,t).click(function(y){y.preventDefault();if(b.play){f()}e("next",k)});a("."+b.prev,t).click(function(y){y.preventDefault();if(b.play){f()}e("prev",k)});if(b.generatePagination){t.append("<ul class="+b.paginationClass+"></ul>");j.children().each(function(){a("."+b.paginationClass,t).append('<li><a href="#'+c+'">'+(c+1)+"</a></li>");c++})}else{a("."+b.paginationClass+" li a",t).each(function(){a(this).attr("href","#"+c);c++})}a("."+b.paginationClass+" li:eq("+d+")",t).addClass("current");a("."+b.paginationClass+" li a",t).click(function(){if(b.play){f()}h=a(this).attr("href").match("[^#/]+$");if(o!=h){e("pagination",r,h)}return false});a("a.link",t).click(function(){if(b.play){f()}h=a(this).attr("href").match("[^#/]+$")-1;if(o!=h){e("pagination",r,h)}return false});if(b.play){playInterval=setInterval(function(){e("next",k)},b.play);t.data("interval",playInterval)}function q(){clearInterval(t.data("interval"))}function f(){if(b.pause){clearTimeout(t.data("pause"));clearInterval(t.data("interval"));pauseTimeout=setTimeout(function(){clearTimeout(t.data("pause"));playInterval=setInterval(function(){e("next",k)},b.play);t.data("interval",playInterval)},b.pause);t.data("pause",pauseTimeout)}else{q()}}function e(A,z,y){if(!g&&s){g=true;switch(A){case"next":m=o;n=o+1;n=x===n?0:n;v=p*2;A=-p*2;o=n;break;case"prev":m=o;n=o-1;n=n===-1?x-1:n;v=0;A=0;o=n;break;case"pagination":n=parseInt(y,10);m=a("."+b.paginationClass+" li.current a",t).attr("href").match("[^#/]+$");if(n>m){v=p*2;A=-p*2}else{v=0;A=0}o=n;break}if(z==="fade"){b.animationStart();if(b.crossfade){j.children(":eq("+n+")",t).css({zIndex:10}).fadeIn(b.fadeSpeed,function(){if(b.autoHeight){j.animate({height:j.children(":eq("+n+")",t).outerHeight()},b.autoHeightSpeed,function(){j.children(":eq("+m+")",t).css({display:"none",zIndex:0});j.children(":eq("+n+")",t).css({zIndex:0});b.animationComplete(n+1);g=false})}else{j.children(":eq("+m+")",t).css({display:"none",zIndex:0});j.children(":eq("+n+")",t).css({zIndex:0});b.animationComplete(n+1);g=false}})}else{b.animationStart();j.children(":eq("+m+")",t).fadeOut(b.fadeSpeed,function(){if(b.autoHeight){j.animate({height:j.children(":eq("+n+")",t).outerHeight()},b.autoHeightSpeed,function(){j.children(":eq("+n+")",t).fadeIn(b.fadeSpeed)})}else{j.children(":eq("+n+")",t).fadeIn(b.fadeSpeed,function(){if(a.browser.msie){a(this).get(0).style.removeAttribute("filter")}})}b.animationComplete(n+1);g=false})}}else{j.children(":eq("+n+")").css({left:v,display:"block"});if(b.autoHeight){b.animationStart();j.animate({left:A,height:j.children(":eq("+n+")").outerHeight()},b.slideSpeed,function(){j.css({left:-p});j.children(":eq("+n+")").css({left:p,zIndex:5});j.children(":eq("+m+")").css({left:p,display:"none",zIndex:0});b.animationComplete(n+1);g=false})}else{b.animationStart();j.animate({left:A},b.slideSpeed,function(){j.css({left:-p});j.children(":eq("+n+")").css({left:p,zIndex:5});j.children(":eq("+m+")").css({left:p,display:"none",zIndex:0});b.animationComplete(n+1);g=false})}}if(b.pagination){a("."+b.paginationClass+" li.current",t).removeClass("current");a("."+b.paginationClass+" li:eq("+n+")",t).addClass("current")}}}})};a.fn.slides.option={preload:false,preloadImage:"/img/loading.gif",container:"slides_container",generateNextPrev:false,next:"next",prev:"prev",pagination:true,generatePagination:true,paginationClass:"pagination",fadeSpeed:350,slideSpeed:350,start:1,effect:"slide",crossfade:false,randomize:false,play:0,pause:0,hoverPause:false,autoHeight:false,autoHeightSpeed:350,bigTarget:false,animationStart:function(){},animationComplete:function(){}};a.fn.randomize=function(c){function b(){return(Math.round(Math.random())-0.5)}return(a(this).each(function(){var f=a(this);var e=f.children();var d=e.length;if(d>1){e.hide();var g=[];for(i=0;i<d;i++){g[g.length]=i}g=g.sort(b);a.each(g,function(l,h){var n=e.eq(h);var m=n.clone(true);m.show().appendTo(f);if(c!==undefined){c(n,m)}n.remove()})}}))}})(jQuery);var sfPlop={_expose:null,_tpplugins:[],init:function(){},initOnDomReady:function(){this.loadLoader();this.loadPlugins();this.loadAjaxNavigation()},registerTPPlugin:function(a){this._tpplugins.push(a)},loadTPPlugins:function(){if(this._tpplugins.length>0){for(var a in this._tpplugins){var b=this._tpplugins[a];if(!isNaN(a)&&b&&typeof(b)==="function"){b.call()}}}},loadPlugins:function(){this.loadGallery();this.loadImageZoom();this.loadSlider();this.loadClock();this.loadThemeSwitcher();this.loadTPPlugins()},loadLoader:function(){jQuery.prettyLoader({animation_speed:"fast",bind_to_ajax:true,delay:false,loader:"/sfPlopPlugin/vendor/prettyLoader/images/ajax-loader.gif",offset_top:13,offset_left:10})},showLoader:function(){return jQuery.prettyLoader.show()},hideLoader:function(){return jQuery.prettyLoader.hide()},expose:function(b,a){if(a==undefined){a=false}if(this._expose==null){this._expose=jQuery("<div></div>").addClass("ui-widget-overlay").appendTo(document.body).css({opacity:0});if(a){this._expose.animate({opacity:1,width:jQuery.ui.dialog.overlay.width(),height:jQuery.ui.dialog.overlay.height()})}else{this._expose.css({width:jQuery.ui.dialog.overlay.width(),height:jQuery.ui.dialog.overlay.height()})}}jQuery(window).bind("resize.dialog-overlay",function(c){sfPlop._expose.css({width:0,height:0}).css({height:jQuery.ui.dialog.overlay.height(),width:jQuery.ui.dialog.overlay.width(),zIndex:1002})});if(b!=undefined&&jQuery(b).length>0){b.addClass("w-expose").css({zIndex:1003})}if(a){b.animate({opacity:1})}},unexpose:function(a){if(this._expose!=null){jQuery(window).unbind("resize.dialog-overlay");this._expose.remove();delete this._expose}if(a!=undefined&&jQuery(a).length>0){a.removeClass("w-expose").css({zIndex:"auto"})}},loadAjaxNavigation:function(){if(jQuery("body.admin").length==0&&jQuery("body > div.container > .section > .content .w-menu-ajax").length>0){jQuery("body > div.container > .section > .content .w-menu-ajax a").live("click",function(a){jQuery.ajax({url:jQuery(this).attr("href"),success:function(e,c,b){jQuery("#container").fadeOut(function(){jQuery(this).html(e);sfPlop.loadPlugins()}).fadeIn();jQuery("body").removeClass("root")}});a.preventDefault()})}},loadImageZoom:function(){var a="> .section.RichText img, > .section.Asset img, > .section .content .w-gallery-content-img";if(jQuery("body.img-zoom > .container").find(a).length>0){jQuery("body.img-zoom > .container").find(a).each(function(){jQuery(this).addClass("w-zoom w-bound").bind("click",function(){var c=jQuery(this).attr("alt"),b=this.naturalWidth,d=this.naturalHeight;jQuery(this).clone().dialog({title:c,modal:true,width:b,height:d})})})}},loadGallery:function(){if(jQuery.fn.slides){if(jQuery("body > div.container > .CustomGalleryAsset").length>0){var b=jQuery("body > div.container > .section > .content .w-gallery:first");jQuery("body > div.container > .CustomGalleryAsset > .content").each(function(c,d){jQuery(".w-gallery-contents",b).append(jQuery(d).html());jQuery(".w-menu",b).append(jQuery("<li></li>").html('<a href="#'+(c+1)+'" class="element">'+(c+1)+"</a>"));if(!window.sfPlopAdmin){jQuery(d).html("")}else{jQuery(d).hide()}})}var a=jQuery("body > div.container > .section > .content .w-gallery");if(a.length){a.fadeOut().find('img:first').load(function(){jQuery(this).parents('.w-gallery:first').fadeIn().parents(".section:first").slides({container:"w-gallery-contents",generatePagination:false,paginationClass:"w-gallery-menu",prev:"w-gallery-prev",next:"w-gallery-next",crossFade:true,effect:"fade",slideSpeed:500,fadeSpeed:500,play:a.hasClass("autoplay")?5000:false,preload:true,preloadImage:"/img/loading.gif",autoHeight:true});a.find(".w-gallery-menu-slider").each(function(c,h){var d=jQuery("<div></div>").addClass("w-slider-prev"),g=jQuery("<div></div>").addClass("w-slider-next"),f=jQuery("<div></div>").addClass("w-slider-container").append(jQuery(h).clone(true)),j=jQuery("<div></div>").addClass("w-slider").append(f).append(d).append(g).insertAfter(jQuery(h));sfPlop.loadSlider(j);jQuery(h).hide().remove()})})}}},loadClock:function(){if(jQuery("body > div.container > .Date .content .clock").length>0){var a=jQuery("body > div.container > .Date .content .clock:first"),h=a.data("hour"),e=a.data("minute"),b=a.data("second"),d,k,g,c,f,j=false;window.clock_write_time=function(){k=g+":"+c;if(j){k+=(":"+f)}jQuery("body > div.container > .Date .content .clock").text(k)};window.clock_server_calc=function(){if(f<10){f="0"+Math.round(f)}else{if(f>=60){f=0;c++}}if(c<10){c="0"+Math.round(c)}else{if(c>=60){c=0;g++}}if(g<10){g="0"+Math.round(g)}else{if(g>=24){g=0}}if(j||f==b){clock_write_time()}f++};d=new Date(0,0,0,h,e,b);g=d.getHours();c=d.getMinutes();f=d.getSeconds();clock_server_calc();setInterval("clock_server_calc()",1000)}},loadSlider:function(b){if(b==undefined&&jQuery(".w-slider").not(".w-on").length>0){var a=jQuery(".w-slider").not(".w-on")}else{if(b&&jQuery(b).not(".w-on").length>0){var a=b}}if(a!=undefined){a.addClass("w-on").each(function(g,h){var l=jQuery(h),j=l.find(".w-slider-container"),c=l.find(".w-slider-prev"),d=l.find(".w-slider-next"),f=j.find(".w-menu li").length,k=0,m=0,n=0;j.find(".w-menu li").each(function(o){m+=jQuery(this).width();if(jQuery(this).width()==0){n=jQuery(this).width()}});k=m/n;j.find(".w-menu:first").css({width:m});j.css({height:j.find("li:first").height()});if(j.find(".w-menu:first").position().left<0){c.removeClass("w-off").addClass("w-on")}else{c.removeClass("w-on").addClass("w-off")}if((m-j.width())>(j.find(".w-menu:first").position().left*-1)){d.removeClass("w-off").addClass("w-on")}else{d.removeClass("w-on").addClass("w-off")}c.bind("click",function(o){if(j.find(".w-menu:first").position().left<0){j.find(".w-menu:first").animate({left:"+="+(m/f)},function(){if(j.find(".w-menu:first").position().left<0){c.removeClass("w-off").addClass("w-on")}else{c.removeClass("w-on").addClass("w-off")}if((m-j.width())>(j.find(".w-menu:first").position().left*-1)){d.removeClass("w-off").addClass("w-on")}else{d.removeClass("w-on").addClass("w-off")}})}});d.bind("click",function(o){if((m-j.width())>(j.find(".w-menu:first").position().left*-1)){j.find(".w-menu:first").animate({left:"-="+(m/f)},function(){if(j.find(".w-menu:first").position().left<0){c.removeClass("w-off").addClass("w-on")}else{c.removeClass("w-on").addClass("w-off")}if((m-j.width())>(j.find(".w-menu:first").position().left*-1)){d.removeClass("w-off").addClass("w-on")}else{d.removeClass("w-on").addClass("w-off")}})}})})}},loadThemeSwitcher:function(){if(jQuery("body > div.container > .ThemeSwitcher").length>0){jQuery("body > div.container > .ThemeSwitcher input[type=submit]").hide();jQuery("body > div.container > .ThemeSwitcher select").bind("change",function(){jQuery(this).parents("form:first").trigger("submit")})}}};jQuery(document).ready(function(){sfPlop.initOnDomReady()});sfPlop.init();